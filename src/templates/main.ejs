<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <meta name="description" content="<%= description %>" />

    <meta property="og:description" content="<%= description %>" />
    <meta property="og:site_name" content="<%= siteName %>" />
    <meta property="og:title" content="<%= htmlWebpackPlugin.options.title %>" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="<%= url %>" />

    <link rel="canonical" href="<%= url %>" />
    <title><%= htmlWebpackPlugin.options.title %></title>
    <script type="text/javascript">
      const handleRoute = (location) => {
        const { search, pathname, hash } = location;

        if (search) {
          const q = {};

          search
            .slice(1)
            .split('&')
            .forEach((v) => {
              const a = v.split('=');
              q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
            });

          if (q.p !== undefined) {
            const state = pathname.slice(0, -1) + (q.p || '') + (q.q ? '?' + q.q : '') + hash;
            window.history.replaceState(null, null, state);
          }
        }
      };

      handleRoute(window.location);
    </script>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
